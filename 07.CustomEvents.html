<html>
  <head>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript">
      
      var personInfo = {}
      
      $(document).ready(function(){
        $('#dataId').click(function(){
          console.log($(this).data('id'))
          
        })
        
        $('#firstName,#lastName').blur(function(){
          console.log('inside blur')
          
          /* This was before jQjery 1.4.3
          personInfo.firstName = $('#firstName').val()
          personInfo.lastName = $('#lastName').val()
          $(personInfo).trigger('personUpdated')
          */
          $(personInfo).data('firstName', $('#firstName').val())
          $(personInfo).data('lastName', $('#lastName').val())
        })
        
        /* This was before jQjery 1.4.3
        $(personInfo).bind('personUpdated', updateCustomizedFirstName)
        $(personInfo).bind('personUpdated', updateCustomizedFullName)
        */
        $(personInfo).bind('changeData', updateCustomizedFirstName)
        $(personInfo).bind('changeData', updateCustomizedFullName)
      })
      
      function updateCustomizedFirstName() {
        console.log('inside update customized first name')
        console.log('firstName: ' + $(this).data('firstName'))
        $('.customizedFirstName').text($(this).data('firstName'))
      }
      function updateCustomizedFullName(){
        console.log('inside update customized full name')
        $('.customizedFullName').text($(this).data('firstName') + ' ' + $(this).data('lastName'))
      }
      
    </script>
  </head>
  <body>
    <p> Hello <span class="customizedFirstName">Who?</span></p>
    First name: <input id="firstName" type="text"/>
    Last name: <input id="lastName" type="text">
    <p> Created by <span class="customizedFullName">Who?</span></p>
    <sapn id="dataId" data-id="123">Click to alert the data-id attribute</span>
  </body>
</html>
